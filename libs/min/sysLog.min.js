define(["gitee","utils"],(function(gitee,utils){let lsKey="wyd-gitee-api-log",lsData={},cps;function initLogData(){let lsGiteeApiData=localStorage.getItem(lsKey);if(lsGiteeApiData){lsData=JSON.parse(lsGiteeApiData);let app=utils.getVueCps("sysLog");app&&(app.lsData=lsData)}}function addLog(log,type="gitee"){let dataList=lsData[type],logObj={content:log,time:(new Date).toLocaleString()};dataList?dataList.unshift(logObj):lsData[type]=[logObj],lsData[type].length>30&&lsData[type].pop(),localStorage.setItem(lsKey,JSON.stringify(lsData))}return initLogData(),{cps:{data:()=>({lsData:lsData}),watch:{$route(){initLogData()}},methods:{clearLog(){localStorage.removeItem(lsKey),this.lsData=[],initLogData()}},mounted(){},template:'\n        <div wydFlag="sysLog" class="ui container mt-5 d-flex flex-column segment">\n            <h1 class="ui header">Gitee API操作日志</h1>\n            <div class="mb-3">\n                <button class="ui button" @click="clearLog">\n                    <i class="refresh icon"></i>清空日志\n                </button>\n            </div>\n            <el-timeline>\n                <el-timeline-item\n                  v-for="(log,index) in lsData.gitee"\n                  :key="index"\n                  :timestamp="log.time">\n                  {{log.content}}\n                </el-timeline-item>\n            </el-timeline>\n        </div>\n        '},addLog:addLog}}));