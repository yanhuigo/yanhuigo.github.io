new Vue({el:"#app",data:{oldBmList:[],typeList:[],// 分类集合
tagList:[],// 标签集合
bmList:[],//书签集合
checkedType:"",checkedTag:"",serachTxt:""},methods:{typeFilter(a){this.checkedTag="",this.checkedType=this.checkedType===a?"":a,this.bmList=this.oldBmList.filter(b=>""===this.checkedType||b.type===a)},tagFilter(a){this.checkedType="",this.checkedTag=this.checkedTag===a?"":a,this.bmList=this.oldBmList.filter(b=>""===this.checkedTag||b.tag===a)},serach(){this.checkedTag="",this.checkedType="";let a=this.serachTxt.toUpperCase();this.bmList=this.oldBmList.filter(({title:b,url:c,type:d,tag:e})=>""===a||-1!==b.toUpperCase().indexOf(a)||-1!==c.toUpperCase().indexOf(a)||-1!==e.toUpperCase().indexOf(a)||-1!==d.toUpperCase().indexOf(a))}},mounted(){fetch(`${pageJsonUrl}/chrome.bookmark.json`).then(a=>a.json()).then(a=>{let b=(a,c,d,e)=>{let{b:f,c:g,a:h}=a;g?(this.oldBmList.push({title:f,url:g,type:d,tag:e}),this.bmList.push({title:f,url:g,type:d,tag:e})):(!c&&this.tagList.push(f),h&&h.forEach(a=>{b(a,!1,d,f)}))};a.a.forEach(a=>{this.typeList.push(a.b),b(a,!0,a.b)}),document.getElementById("input_search").focus()})}});